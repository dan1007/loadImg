<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>

        *{
            margin: 0;
            padding: 0;
        }

        div{
            width: 100%;
            height: 500px;
            margin-bottom: 10px;
        }

    </style>
</head>
<body>

    <div class="d1"></div>
    <div class="d2"></div>
    <div class="d3"></div>

<script>

    function offset(ele){
        var l = ele.offsetLeft;
        var t = ele.offsetTop;
        var container = ele.offsetParent;
        l+=container.offsetLeft+container.clientLeft;
        t+=container.offsetTop+container.clientTop;
        return {
            left:l,
            top:t
        }
    }

    var div = document.getElementsByTagName("div");
    div[0].style.backgroundColor ="red";

    window.onscroll = function(){
        var scrollTop=document.documentElement.scrollTop|| window.pageYOffset ||document.body.scrollTop;
        var clientHeight=document.documentElement.clientHeight||document.body.clientHeight;
        var winHeight = scrollTop+clientHeight;
        for(var i = 1;i<div.length;i++){
            loadDiv(div[i],winHeight);
        }
    };
//ajax
    function loadDiv(ele,winHeight){
        var eleH = offset(ele).top+ele.offsetHeight;
        if(winHeight>eleH){
            ele.style.backgroundColor = "blue";
        }
    }


</script>

</body>
</html>